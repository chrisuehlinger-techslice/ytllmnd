# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

YTLLMND (You The LLM Now Dog) is a chat application that simulates what it's like to be an LLM. It allows users to take on either the "User" or "Assistant" role in a conversation, with real-time message synchronization between both views.

## Common Commands

### Development
- `npm run dev` - Start the Vite development server
- `npx ampx sandbox` - Start the Amplify sandbox (required before running the app)

### Build & Type Checking
- `npm run build` - Run type-check and build in parallel
- `npm run type-check` - Run TypeScript type checking only
- `npm run build-only` - Build without type checking
- `npm run preview` - Preview the production build

### Amplify Backend
- `npx ampx sandbox` - Start local backend environment
- `npx ampx generate outputs` - Generate amplify_outputs.json

## Architecture

### Frontend (Vue 3 + TypeScript)
- **Router-based views**: 
  - `/` - Homepage for creating new chats with system prompts
  - `/chats/:chatId/user` - User view (blue theme)
  - `/chats/:chatId/assistant` - Assistant view with system prompt display (green theme)
- **Real-time sync**: Uses Amplify's `observeQuery` for instant message updates across views
- **No authentication**: Ephemeral chat sessions with public API key access

### Backend (AWS Amplify Gen 2)
- **Data Models** (in `amplify/data/resource.ts`):
  - `Chat`: Stores system prompt and creation timestamp
  - `Message`: Stores chat messages with role (user/assistant) and timestamp
- **Authorization**: Public API key access for all operations
- **Real-time**: GraphQL subscriptions for live updates

## Key Implementation Details

- The `amplify_outputs.json` file is generated by `npx ampx sandbox` and should not be committed
- Messages are sorted by timestamp to ensure correct ordering
- Each view subscribes to message updates for real-time synchronization
- The assistant view displays the system prompt at the top of the chat
- Message styling differs based on role (user messages align right in user view, left in assistant view)